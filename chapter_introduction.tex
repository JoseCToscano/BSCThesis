\chapter{Introduction}
\setcounter{page}{1}
\pagenumbering{arabic}


\section{Motivation}

Throughout the development of Atrato’s main product, a Buy Now Pay Later (BNPL) financial service, many tasks and processes have been automated to enable a fast and efficient response to the final customers. Nonetheless, after-signature processes still were handled manually by an overcharged treasury team, handling more than 1,000 daily operations regarding money disbursements and credit cancelations. A process that became very time consuming, human-error prone and unsustainable at a larger scale. Atrato’s BNPL was very efficient to the end users but started to generate plenty of friction and operational load to the partners and operational side.\\

As Atrato’s market started expanding, new partnerships with bigger and more relevant merchants required efficient and flexible processes not only for the end user, but also for every new merchant that joins Atrato as a partner. Atrato’s partnership with what today is their biggest merchant demanded immediate disbursements after every approved purchase. Not only immediate bank transfers needed to be handled, but also the process of managing credit updates and cancelations needed to be very efficient. To enable this partnership to happen, a balance system needed to be developed, capable of managing bank transfers with flexible triggers and handling changes in previous credits or cancelations.


\section{Starting points}

Before the development of the balance system for merchants and stores, Atrato was able to receive payments through different providers and manage the money properly.  In terms of taking money out of Atrato’s banking account and sending it to a different account only the treasury team, composed by 2 people, was able to do this task. After confirming that the money was disbursed correctly, they proceeded to update every credit, adding a flag that indicates that the credit was already disbursed. After this, a manual spread sheet was generated to send it as a disbursement report to every merchant and store.\\

Regarding each merchant’s banking information, none of it was saved as part of the information stores while adding a new merchant. All of it was later requested by the treasury team, making that the information needed for an automatic disbursement was not centralized. Additionally, every bank account needed to be authenticated before transferring a credit’s disbursement for security purposes.\\

In terms of how much money needed to be transferred per credit, it could always vary depending on every merchant’s current commission or if any special promotion or discount is active as part of the commercial team. All these factors needed to be considered before making a money disbursement. Furthermore, every new merchant could go through a trial period, where very specific commissions apply and would later change depending on its monthly origination. \\

This poorly structured process was the starting point before any automation could be developed, where current business processes should be able to continue operating in a similar way as they were already doing.\\

Concerning technical starting points, Atrato’s codebase has been slowly migrating from functional programing, developed in JavaScript, to an Object-Oriented Programing structure in Typescript. All data is stored and handled in a single relational database with MySQL as the engine but consumed through TypeORM, an Object-relational mapping (ORM), allowing a Model-Controller-Router Structure for the server side.\\
